From: SeongJae Park <sj@kernel.org>
Date: Thu, 9 Jan 2025 09:25:02 -0800
Subject: [PATCH] Revert "mm/damon/core: add damos_filter->pass field"

This reverts commit f174456776193b7e3109d74d7350fd814210aa63.
---
 include/linux/damon.h | 4 +---
 mm/damon/core.c       | 1 -
 2 files changed, 1 insertion(+), 4 deletions(-)

diff --git a/include/linux/damon.h b/include/linux/damon.h
index baeb884ed156..72afba74ac6d 100644
--- a/include/linux/damon.h
+++ b/include/linux/damon.h
@@ -348,8 +348,7 @@ enum damos_filter_type {
 /**
  * struct damos_filter - DAMOS action target memory filter.
  * @type:	Type of the target memory.
- * @matching:	Whether this is for @type-matching memory.
- * @pass:	Whether the memory should pass-through the filter.
+ * @matching:	If the @type-matching memory should be filtered out.
  * @memcg_id:	Memcg id of the question if @type is DAMOS_FILTER_MEMCG.
  * @addr_range:	Address range if @type is DAMOS_FILTER_TYPE_ADDR.
  * @target_idx:	Index of the &struct damon_target of
@@ -366,7 +365,6 @@ enum damos_filter_type {
 struct damos_filter {
 	enum damos_filter_type type;
 	bool matching;
-	bool pass;
 	union {
 		unsigned short memcg_id;
 		struct damon_addr_range addr_range;
diff --git a/mm/damon/core.c b/mm/damon/core.c
index e54bd19d6f06..52e50f183ffe 100644
--- a/mm/damon/core.c
+++ b/mm/damon/core.c
@@ -275,7 +275,6 @@ struct damos_filter *damos_new_filter(enum damos_filter_type type,
 		return NULL;
 	filter->type = type;
 	filter->matching = matching;
-	filter->pass = false;
 	INIT_LIST_HEAD(&filter->list);
 	return filter;
 }
-- 
2.39.5

