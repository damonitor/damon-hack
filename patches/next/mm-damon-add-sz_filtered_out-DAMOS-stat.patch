From: SeongJae Park <sj@kernel.org>
Date: Sun, 15 Dec 2024 12:33:52 -0800
Subject: [PATCH] mm/damon: add sz_filtered_out DAMOS stat

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 include/linux/damon.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/include/linux/damon.h b/include/linux/damon.h
index ceca2a37c72a..c7f993491555 100644
--- a/include/linux/damon.h
+++ b/include/linux/damon.h
@@ -301,6 +301,9 @@ struct damos_watermarks {
  * @sz_tried:	Total size of regions that the scheme is tried to be applied.
  * @nr_applied:	Total number of regions that the scheme is applied.
  * @sz_applied:	Total size of regions that the scheme is applied.
+ * @sz_filtered_out:
+ * 		Total size of regions that the scheme is not applied due to
+ * 		DAMOS filters.
  * @qt_exceeds: Total number of times the quota of the scheme has exceeded.
  *
  * "Tried an action to a region" in this context means the DAMOS core logic
@@ -325,6 +328,7 @@ struct damos_stat {
 	unsigned long sz_tried;
 	unsigned long nr_applied;
 	unsigned long sz_applied;
+	unsigned long sz_filtered_out;
 	unsigned long qt_exceeds;
 };
 
-- 
2.39.5

