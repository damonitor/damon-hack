From: SeongJae Park <sj@kernel.org>
Date: Mon, 1 Dec 2025 22:12:42 -0800
Subject: [PATCH] mm/damon/core: cleanup damon_report_page_fault()

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/damon/core.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/mm/damon/core.c b/mm/damon/core.c
index 0ec009024d75..ee096a4edce3 100644
--- a/mm/damon/core.c
+++ b/mm/damon/core.c
@@ -1731,17 +1731,17 @@ void damon_report_access(struct damon_access_report *report)
 void damon_report_page_fault(struct vm_fault *vmf, bool huge_pmd)
 {
 	struct damon_access_report access_report = {
-		.addr = vmf->address,
+		.size = 1,	/* todo: set appripriately */
+		.cpu = smp_processor_id(),
 		.tid = task_pid_vnr(current),
-		.size = 1,
 		.is_write = vmf->flags & FAULT_FLAG_WRITE,
-		.cpu = smp_processor_id(),
 	};
 
 	if (huge_pmd)
 		access_report.addr = PFN_PHYS(pmd_pfn(vmf->orig_pmd));
 	else
 		access_report.addr = PFN_PHYS(pte_pfn(vmf->orig_pte));
+	/* todo: report vmf->address as virtual address */
 
 	damon_report_access(&access_report);
 }
-- 
2.47.3

