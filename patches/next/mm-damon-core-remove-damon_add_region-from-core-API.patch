From: SeongJae Park <sj@kernel.org>
Date: Sun, 15 Feb 2026 13:02:53 -0800
Subject: [PATCH] mm/damon/core: remove damon_add_region() from core API

It allows unnecessary freedom.  Take it back.

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 include/linux/damon.h | 1 -
 mm/damon/core.c       | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

diff --git a/include/linux/damon.h b/include/linux/damon.h
index 7ca7bd9353a25..17d2f676290d5 100644
--- a/include/linux/damon.h
+++ b/include/linux/damon.h
@@ -1053,7 +1053,6 @@ static inline void damon_insert_region(struct damon_region *r,
 	t->nr_regions++;
 }
 
-void damon_add_region(struct damon_region *r, struct damon_target *t);
 void damon_destroy_region(struct damon_region *r, struct damon_target *t);
 int damon_set_regions(struct damon_target *t, struct damon_addr_range *ranges,
 		unsigned int nr_ranges, unsigned long min_region_sz);
diff --git a/mm/damon/core.c b/mm/damon/core.c
index 0419a149d9231..d05b787240a4d 100644
--- a/mm/damon/core.c
+++ b/mm/damon/core.c
@@ -159,7 +159,7 @@ struct damon_region *damon_new_region(unsigned long start, unsigned long end)
 	return region;
 }
 
-void damon_add_region(struct damon_region *r, struct damon_target *t)
+static void damon_add_region(struct damon_region *r, struct damon_target *t)
 {
 	list_add_tail(&r->list, &t->regions_list);
 	t->nr_regions++;
-- 
2.47.3

