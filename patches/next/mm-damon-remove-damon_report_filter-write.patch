From: SeongJae Park <sj@kernel.org>
Date: Fri, 28 Nov 2025 15:41:38 -0800
Subject: [PATCH] mm/damon: remove damon_report_filter->write

The field is unnecessary, since the type itself is indicating it is for
write.  Remove it.

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 include/linux/damon.h | 6 +-----
 mm/damon/core.c       | 1 -
 2 files changed, 1 insertion(+), 6 deletions(-)

diff --git a/include/linux/damon.h b/include/linux/damon.h
index 2db6790b2b26..06b8d6ac7b1d 100644
--- a/include/linux/damon.h
+++ b/include/linux/damon.h
@@ -827,17 +827,13 @@ enum damon_report_filter_type {
  * @matching:	Whether is is for condition-matching reports.
  * @allow:	Whether to include or excludie the @matching reports.
  * @cpus:	Access-originated CPUs if @type is DAMON_FILTER_TYPE_CPUS.
- * @write:	If the access was writing if @type is DAMOS_FILTER_TYPE_WRITE.
  * @list:	List head for siblings.
  */
 struct damon_report_filter {
 	enum damon_report_filter_type type;
 	bool matching;
 	bool allow;
-	union {
-		cpumask_t cpus;
-		bool write;
-	};
+	cpumask_t cpus;
 	struct list_head list;
 };
 
diff --git a/mm/damon/core.c b/mm/damon/core.c
index 38cc4b07be3a..cf980c15fe7f 100644
--- a/mm/damon/core.c
+++ b/mm/damon/core.c
@@ -1309,7 +1309,6 @@ static void damon_commit_report_filter_arg(struct damon_report_filter *dst,
 		dst->cpus = src->cpus;
 		break;
 	case DAMON_FILTER_TYPE_WRITE:
-		dst->write = src->write;
 		break;
 	default:
 		break;
-- 
2.47.3

