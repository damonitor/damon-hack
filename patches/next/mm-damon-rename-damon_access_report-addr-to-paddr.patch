From: SeongJae Park <sj@kernel.org>
Date: Fri, 5 Dec 2025 17:11:58 -0800
Subject: [PATCH] mm/damon: rename damon_access_report->addr to ->paddr

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 include/linux/damon.h | 4 ++--
 mm/damon/core.c       | 8 ++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/include/linux/damon.h b/include/linux/damon.h
index f9fd26f7eab8..7337b7326dbc 100644
--- a/include/linux/damon.h
+++ b/include/linux/damon.h
@@ -113,7 +113,7 @@ struct damon_target {
 
 /**
  * struct damon_access_report - Represent single acces report information.
- * @addr:		The start address of the accessed address range.
+ * @paddr:		Start physical address of the accessed address range.
  * @size:		The size of the accessed address range.
  * @cpu:		The id of the CPU that made the access.
  * @tid:		The task id of the task that made the access.
@@ -124,7 +124,7 @@ struct damon_target {
  * infomration.  Refer to damon_report_access() for more details.
  */
 struct damon_access_report {
-	unsigned long addr;
+	unsigned long paddr;
 	unsigned long size;
 	unsigned int cpu;
 	pid_t tid;
diff --git a/mm/damon/core.c b/mm/damon/core.c
index b6a9ef211efc..eb28e1e0389f 100644
--- a/mm/damon/core.c
+++ b/mm/damon/core.c
@@ -1768,9 +1768,9 @@ void damon_report_page_fault(struct vm_fault *vmf, bool huge_pmd)
 	};
 
 	if (huge_pmd)
-		access_report.addr = PFN_PHYS(pmd_pfn(vmf->orig_pmd));
+		access_report.paddr = PFN_PHYS(pmd_pfn(vmf->orig_pmd));
 	else
-		access_report.addr = PFN_PHYS(pte_pfn(vmf->orig_pte));
+		access_report.paddr = PFN_PHYS(pte_pfn(vmf->orig_pte));
 	/* todo: report vmf->address as virtual address */
 
 	damon_report_access(&access_report);
@@ -2986,9 +2986,9 @@ static void kdamond_apply_access_report(struct damon_access_report *report,
 
 	/* todo: make search faster, e.g., binary search? */
 	damon_for_each_region(r, t) {
-		if (report->addr < r->ar.start)
+		if (report->paddr < r->ar.start)
 			continue;
-		if (r->ar.end < report->addr + report->size)
+		if (r->ar.end < report->paddr + report->size)
 			continue;
 		if (!r->access_reported)
 			damon_update_region_access_rate(r, true, &ctx->attrs);
-- 
2.47.3

