From: SeongJae Park <sj@kernel.org>
Date: Sun, 30 Nov 2025 08:19:50 -0800
Subject: [PATCH] mm/damon: s/access_check_control/sample_control/g

Apparently it is a better name.

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 include/linux/damon.h | 10 +++++-----
 mm/damon/core.c       | 30 +++++++++++++++---------------
 mm/damon/sysfs.c      |  8 ++++----
 3 files changed, 24 insertions(+), 24 deletions(-)

diff --git a/include/linux/damon.h b/include/linux/damon.h
index 7c8eb0c0c532..ccd12fa826db 100644
--- a/include/linux/damon.h
+++ b/include/linux/damon.h
@@ -884,11 +884,11 @@ struct damon_report_filter {
 };
 
 /**
- * struct damon_access_check_control - Low level access check rules.
+ * struct damon_sample_control - Low level access check sampling rules.
  * @primitives_enablement:	Enablement of access check primitives.
  * @report_filters:		List of added access check report filters.
  */
-struct damon_access_check_control {
+struct damon_sample_control {
 	struct damon_primitives_enablement primitives_enablement;
 	struct list_head report_filters;
 };
@@ -962,7 +962,7 @@ struct damon_ctx {
 
 	struct damon_operations ops;
 	struct damon_operations_attrs ops_attrs;
-	struct damon_access_check_control access_check_control;
+	struct damon_sample_control sample_control;
 	unsigned long addr_unit;
 	unsigned long min_sz_region;
 
@@ -1095,11 +1095,11 @@ unsigned int damon_nr_regions(struct damon_target *t);
 struct damon_report_filter *damon_new_report_filter(
 		enum damon_report_filter_type filter_type, bool matching,
 		bool allow);
-void damon_add_report_filter(struct damon_access_check_control *ctrl,
+void damon_add_report_filter(struct damon_sample_control *ctrl,
 		struct damon_report_filter *filter);
 void damon_free_report_filter(struct damon_report_filter *filter);
 void damon_destroy_report_filter(struct damon_report_filter *filter,
-		struct damon_access_check_control *ctrl);
+		struct damon_sample_control *ctrl);
 
 struct damon_ctx *damon_new_ctx(void);
 void damon_destroy_ctx(struct damon_ctx *ctx);
diff --git a/mm/damon/core.c b/mm/damon/core.c
index 389359bf37a0..ce607b309bae 100644
--- a/mm/damon/core.c
+++ b/mm/damon/core.c
@@ -582,14 +582,14 @@ struct damon_report_filter *damon_new_report_filter(
 	return filter;
 }
 
-void damon_add_report_filter(struct damon_access_check_control *ctrl,
+void damon_add_report_filter(struct damon_sample_control *ctrl,
 		struct damon_report_filter *filter)
 {
 	list_add_tail(&filter->list, &ctrl->report_filters);
 }
 
 static void damon_del_report_filter(struct damon_report_filter *f,
-		struct damon_access_check_control *ctrl)
+		struct damon_sample_control *ctrl)
 {
 	list_del(&f->list);
 }
@@ -600,7 +600,7 @@ void damon_free_report_filter(struct damon_report_filter *f)
 }
 
 void damon_destroy_report_filter(struct damon_report_filter *f,
-		struct damon_access_check_control *ctrl)
+		struct damon_sample_control *ctrl)
 {
 	damon_del_report_filter(f, ctrl);
 	if (f->type == DAMON_FILTER_TYPE_THREADS) {
@@ -611,7 +611,7 @@ void damon_destroy_report_filter(struct damon_report_filter *f,
 }
 
 static struct damon_report_filter *damon_nth_report_filter(int n,
-		struct damon_access_check_control *ctrl)
+		struct damon_sample_control *ctrl)
 {
 	struct damon_report_filter *f;
 	int i = 0;
@@ -650,8 +650,8 @@ struct damon_ctx *damon_new_ctx(void)
 	ctx->attrs.min_nr_regions = 10;
 	ctx->attrs.max_nr_regions = 1000;
 
-	ctx->access_check_control.primitives_enablement.page_table_scan = true;
-	INIT_LIST_HEAD(&ctx->access_check_control.report_filters);
+	ctx->sample_control.primitives_enablement.page_table_scan = true;
+	INIT_LIST_HEAD(&ctx->sample_control.report_filters);
 
 	ctx->addr_unit = 1;
 	ctx->min_sz_region = DAMON_MIN_REGION;
@@ -681,8 +681,8 @@ void damon_destroy_ctx(struct damon_ctx *ctx)
 		damon_destroy_scheme(s);
 
 	damon_for_each_report_filter_safe(f, next_f,
-			(&ctx->access_check_control))
-		damon_destroy_report_filter(f, &ctx->access_check_control);
+			(&ctx->sample_control))
+		damon_destroy_report_filter(f, &ctx->sample_control);
 
 	if (ctx->ops_attrs.nr_tids)
 		kfree(ctx->ops_attrs.tids);
@@ -1383,8 +1383,8 @@ static int damon_commit_report_filter(struct damon_report_filter *dst,
 	return 0;
 }
 
-static int damon_commit_report_filters(struct damon_access_check_control *dst,
-		struct damon_access_check_control *src)
+static int damon_commit_report_filters(struct damon_sample_control *dst,
+		struct damon_sample_control *src)
 {
 	struct damon_report_filter *dst_filter, *next, *src_filter, *new_filter;
 	int i = 0, j = 0, err;
@@ -1424,9 +1424,9 @@ static bool damon_primitives_enablement_invalid(
 	return config->page_table_scan == config->page_faults_monitoring;
 }
 
-static int damon_commit_access_check_control(
-		struct damon_access_check_control *dst,
-		struct damon_access_check_control *src)
+static int damon_commit_sample_control(
+		struct damon_sample_control *dst,
+		struct damon_sample_control *src)
 {
 	if (damon_primitives_enablement_invalid(&src->primitives_enablement))
 		return -EINVAL;
@@ -1472,8 +1472,8 @@ int damon_commit_ctx(struct damon_ctx *dst, struct damon_ctx *src)
 	}
 	dst->ops = src->ops;
 	dst->ops_attrs = src->ops_attrs;
-	err = damon_commit_access_check_control(&dst->access_check_control,
-			&src->access_check_control);
+	err = damon_commit_sample_control(&dst->sample_control,
+			&src->sample_control);
 	if (err)
 		return err;
 	dst->addr_unit = src->addr_unit;
diff --git a/mm/damon/sysfs.c b/mm/damon/sysfs.c
index 63c700fd95d2..11a0cb23a59e 100644
--- a/mm/damon/sysfs.c
+++ b/mm/damon/sysfs.c
@@ -2221,7 +2221,7 @@ static int damon_sysfs_set_threads_filter(struct damon_report_filter *filter,
 }
 
 static int damon_sysfs_set_report_filters(
-		struct damon_access_check_control *control,
+		struct damon_sample_control *control,
 		struct damon_sysfs_report_filters *sysfs_filters)
 {
 	int i, err;
@@ -2255,8 +2255,8 @@ static int damon_sysfs_set_report_filters(
 }
 
 
-static int damon_sysfs_set_access_check_control(
-		struct damon_access_check_control *control,
+static int damon_sysfs_set_sample_control(
+		struct damon_sample_control *control,
 		struct damon_sysfs_access_check *sysfs_access_check)
 {
 	control->primitives_enablement.page_table_scan =
@@ -2316,7 +2316,7 @@ static int damon_sysfs_apply_inputs(struct damon_ctx *ctx,
 	err = damon_sysfs_set_attrs(ctx, sys_ctx->attrs);
 	if (err)
 		return err;
-	err = damon_sysfs_set_access_check_control(&ctx->access_check_control,
+	err = damon_sysfs_set_sample_control(&ctx->sample_control,
 			sys_ctx->attrs->access_check);
 	if (err)
 		return err;
-- 
2.47.3

