From: SeongJae Park <sj@kernel.org>
Date: Sat, 2 Aug 2025 11:19:07 -0700
Subject: [PATCH] mm/damon/sysfs: connect use_reports to core layer

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/damon/sysfs.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/mm/damon/sysfs.c b/mm/damon/sysfs.c
index b5f5b09d36a7..cd0b33bc6fe5 100644
--- a/mm/damon/sysfs.c
+++ b/mm/damon/sysfs.c
@@ -1521,6 +1521,7 @@ static int damon_sysfs_apply_inputs(struct damon_ctx *ctx,
 	err = damon_select_ops(ctx, sys_ctx->ops_id);
 	if (err)
 		return err;
+	ctx->ops_attrs.use_reports = sys_ctx->ops_attrs->use_reports;
 	ctx->addr_unit = sys_ctx->addr_unit;
 	ctx->min_sz_region = max(DAMON_MIN_REGION / sys_ctx->addr_unit, 1);
 	err = damon_sysfs_set_attrs(ctx, sys_ctx->attrs);
-- 
2.39.5

