From: SeongJae Park <sj@kernel.org>
Date: Wed, 5 Nov 2025 22:22:37 -0800
Subject: [PATCH] mm/damon/test/core-kunit: check nr_regions on
 damon_test_commit_target_regions()

should be squashed.

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/damon/tests/core-kunit.h | 1 +
 1 file changed, 1 insertion(+)

diff --git a/mm/damon/tests/core-kunit.h b/mm/damon/tests/core-kunit.h
index 61c09d942375..409c60e6da3d 100644
--- a/mm/damon/tests/core-kunit.h
+++ b/mm/damon/tests/core-kunit.h
@@ -1010,6 +1010,7 @@ static void damon_test_commit_target_regions_for(struct kunit *test,
 		KUNIT_EXPECT_EQ(test, r->ar.end, expect_start_end[i][1]);
 		i++;
 	}
+	KUNIT_EXPECT_EQ(test, damon_nr_regions(dst_target), nr_expect_regions);
 	KUNIT_EXPECT_EQ(test, i, nr_expect_regions);
 	damon_free_target(dst_target);
 	damon_free_target(src_target);
-- 
2.47.3

