From: SeongJae Park <sj@kernel.org>
Date: Mon, 1 Sep 2025 20:03:57 -0700
Subject: [PATCH] mm/damon/tests/core-kunit: fixup freeing of dst context

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/damon/tests/core-kunit.h | 1 +
 1 file changed, 1 insertion(+)

diff --git a/mm/damon/tests/core-kunit.h b/mm/damon/tests/core-kunit.h
index 886ab8c3f24b..ed6f2fa4772e 100644
--- a/mm/damon/tests/core-kunit.h
+++ b/mm/damon/tests/core-kunit.h
@@ -661,6 +661,7 @@ static void damon_test_commit_ctx(struct kunit *test)
 	src = damon_test_commit_ctx_new_src_ctx();
 	if (!src) {
 		kunit_skip(test, "src alloc fail\n");
+		damon_destroy_ctx(dst);
 		return;
 	}
 
-- 
2.39.5

