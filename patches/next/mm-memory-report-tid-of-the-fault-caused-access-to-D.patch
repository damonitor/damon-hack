From: SeongJae Park <sj@kernel.org>
Date: Sat, 16 Aug 2025 13:52:25 -0700
Subject: [PATCH] mm/memory: report tid of the fault-caused access to DAMON

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/memory.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/mm/memory.c b/mm/memory.c
index dde7e3fe8b47..1e551ea00264 100644
--- a/mm/memory.c
+++ b/mm/memory.c
@@ -6181,6 +6181,7 @@ static vm_fault_t do_damon_page(struct vm_fault *vmf, bool huge_pmd)
 {
 	struct damon_access_report access_report = {
 		.addr = vmf->address,
+		.tid = task_pid_vnr(current),
 		.size = 1,
 		.is_write = vmf->flags & FAULT_FLAG_WRITE,
 		.cpu = smp_processor_id(),
-- 
2.47.3

