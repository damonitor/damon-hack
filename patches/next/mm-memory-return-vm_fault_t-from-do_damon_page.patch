From: SeongJae Park <sj@kernel.org>
Date: Sat, 26 Jul 2025 13:55:57 -0700
Subject: [PATCH] mm/memory: return vm_fault_t from do_damon_page()

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/memory.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/mm/memory.c b/mm/memory.c
index e80d70921c33..bf7e256b1f40 100644
--- a/mm/memory.c
+++ b/mm/memory.c
@@ -5973,7 +5973,7 @@ static vm_fault_t wp_huge_pud(struct vm_fault *vmf, pud_t orig_pud)
 	return VM_FAULT_FALLBACK;
 }
 
-static void do_damon_page(struct vm_fault *vmf, bool huge_pmd)
+static vm_fault_t do_damon_page(struct vm_fault *vmf, bool huge_pmd)
 {
 	struct damon_access_report access_report = {
 		.addr = vmf->address,
@@ -5985,6 +5985,7 @@ static void do_damon_page(struct vm_fault *vmf, bool huge_pmd)
 	else
 		access_report.addr = PFN_PHYS(pte_pfn(vmf->orig_pte));
 	damon_report_access(&access_report);
+	return 0;
 }
 
 /*
-- 
2.39.5

