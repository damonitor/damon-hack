From: SeongJae Park <sj@kernel.org>
Date: Sat, 26 Jul 2025 13:05:01 -0700
Subject: [PATCH] mm: rename MM_CP_PROT_DAMON to MM_CP_DAMON

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 include/linux/mm.h | 2 +-
 mm/damon/paddr.c   | 2 +-
 mm/mprotect.c      | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/include/linux/mm.h b/include/linux/mm.h
index 96d7bf10c5b7..ad92b77bf782 100644
--- a/include/linux/mm.h
+++ b/include/linux/mm.h
@@ -2567,7 +2567,7 @@ int get_cmdline(struct task_struct *task, char *buffer, int buflen);
 #define  MM_CP_UFFD_WP_RESOLVE             (1UL << 3) /* Resolve wp */
 #define  MM_CP_UFFD_WP_ALL                 (MM_CP_UFFD_WP | \
 					    MM_CP_UFFD_WP_RESOLVE)
-#define MM_CP_PROT_DAMON                   (1UL << 4)
+#define MM_CP_DAMON                        (1UL << 4)
 
 bool can_change_pte_writable(struct vm_area_struct *vma, unsigned long addr,
 			     pte_t pte);
diff --git a/mm/damon/paddr.c b/mm/damon/paddr.c
index 55d2bbfe7709..c47f91212ae7 100644
--- a/mm/damon/paddr.c
+++ b/mm/damon/paddr.c
@@ -109,7 +109,7 @@ static bool damon_pa_fault_change_protection_one(struct folio *folio,
 
 	tlb_gather_mmu(&tlb, vma->vm_mm);
 
-	change_protection(&tlb, vma, addr, addr + PAGE_SIZE, MM_CP_PROT_DAMON);
+	change_protection(&tlb, vma, addr, addr + PAGE_SIZE, MM_CP_DAMON);
 
 	tlb_finish_mmu(&tlb);
 	return true;
diff --git a/mm/mprotect.c b/mm/mprotect.c
index 1a844b497b5c..2eb2f5402e39 100644
--- a/mm/mprotect.c
+++ b/mm/mprotect.c
@@ -718,7 +718,7 @@ long change_protection(struct mmu_gather *tlb,
 #endif
 
 #ifdef CONFIG_DAMON
-	if (cp_flags & MM_CP_PROT_DAMON)
+	if (cp_flags & MM_CP_DAMON)
 		newprot = PAGE_NONE;
 #endif
 
-- 
2.39.5

