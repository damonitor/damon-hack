From: SeongJae Park <sj@kernel.org>
Date: Mon, 1 Sep 2025 18:50:09 -0700
Subject: [PATCH] mm/show_mem: temporal build fix

https://lore.kernel.org/20250902014933.93741-1-sj@kernel.org

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/show_mem.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/mm/show_mem.c b/mm/show_mem.c
index ecf20a93ea54..2c8331d47cb1 100644
--- a/mm/show_mem.c
+++ b/mm/show_mem.c
@@ -333,7 +333,11 @@ static void show_free_areas(unsigned int filter, nodemask_t *nodemask, int max_z
 			K(zone_page_state(zone, NR_ZONE_INACTIVE_FILE)),
 			K(zone_page_state(zone, NR_ZONE_UNEVICTABLE)),
 			K(zone_page_state(zone, NR_ZONE_WRITE_PENDING)),
+#if IS_ENABLED(CONFIG_ZSMALLOC)
 			K(zone_page_state(zone, NR_ZSPAGES)),
+#else
+			0,
+#endif
 			K(zone->present_pages),
 			K(zone_managed_pages(zone)),
 			K(zone_page_state(zone, NR_MLOCK)),
-- 
2.39.5

