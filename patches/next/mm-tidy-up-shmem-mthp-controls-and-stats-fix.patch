From: Ryan Roberts <ryan.roberts@arm.com>
Date: Wed, 4 Sep 2024 11:47:29 +0100
Subject: [PATCH] mm-tidy-up-shmem-mthp-controls-and-stats-fix

Link: https://lkml.kernel.org/r/f7ced14c-8bc5-405f-bee7-94f63980f525@arm.com
Signed-off-by: Ryan Roberts <ryan.roberts@arm.com>
Cc: Baolin Wang <baolin.wang@linux.alibaba.com>
Cc: Barry Song <baohua@kernel.org>
Cc: David Hildenbrand <david@redhat.com>
Cc: Gavin Shan <gshan@redhat.com>
Cc: Hugh Dickins <hughd@google.com>
Cc: Lance Yang <ioworker0@gmail.com>
Cc: Matthew Wilcox (Oracle) <willy@infradead.org>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
---
 mm/huge_memory.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/mm/huge_memory.c b/mm/huge_memory.c
index 513e7c87efee..3e872ee724cc 100644
--- a/mm/huge_memory.c
+++ b/mm/huge_memory.c
@@ -606,8 +606,6 @@ static struct attribute *anon_stats_attrs[] = {
 	&swpout_attr.attr,
 	&swpout_fallback_attr.attr,
 #endif
-	&split_attr.attr,
-	&split_failed_attr.attr,
 	&split_deferred_attr.attr,
 	NULL,
 };
@@ -636,6 +634,8 @@ static struct attribute *any_stats_attrs[] = {
 	&swpout_attr.attr,
 	&swpout_fallback_attr.attr,
 #endif
+	&split_attr.attr,
+	&split_failed_attr.attr,
 	NULL,
 };
 
-- 
2.46.1

