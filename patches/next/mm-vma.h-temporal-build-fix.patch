From 81da51e3f3f0415b042de8a319f8378135ee7ed6 Mon Sep 17 00:00:00 2001
From: SeongJae Park <sj@kernel.org>
Date: Sun, 25 Aug 2024 06:02:40 -0700
Subject: [PATCH] mm/vma.h: temporal build fix

Link: https://lore.kernel.org/7d0ea994-f750-49c5-b392-ae7117369cf3@lucifer.local

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/vma.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/mm/vma.h b/mm/vma.h
index edc9034d675c..9d4f44a9942b 100644
--- a/mm/vma.h
+++ b/mm/vma.h
@@ -152,6 +152,7 @@ static inline int vma_iter_store_gfp(struct vma_iterator *vmi,
 	return 0;
 }
 
+#ifdef CONFIG_MMU
 /*
  * init_vma_munmap() - Initializer wrapper for vma_munmap_struct
  * @vms: The vma munmap struct
@@ -185,6 +186,7 @@ static inline void init_vma_munmap(struct vma_munmap_struct *vms,
 	vms->clear_ptes = false;
 	vms->closed_vm_ops = false;
 }
+#endif
 
 int vms_gather_munmap_vmas(struct vma_munmap_struct *vms,
 		struct ma_state *mas_detach);
-- 
2.39.2

