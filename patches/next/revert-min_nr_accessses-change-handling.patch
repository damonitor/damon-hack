From: SeongJae Park <sj@kernel.org>
Date: Mon, 16 Feb 2026 14:31:14 -0800
Subject: [PATCH] revert min_nr_accessses change handling

That may better to be done in followup.

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 mm/damon/core.c | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/mm/damon/core.c b/mm/damon/core.c
index 5097d1c313f0f..12402f5df5d7c 100644
--- a/mm/damon/core.c
+++ b/mm/damon/core.c
@@ -2808,8 +2808,6 @@ static int kdamond_fn(void *data)
 		unsigned long next_aggregation_sis = ctx->next_aggregation_sis;
 		unsigned long next_ops_update_sis = ctx->next_ops_update_sis;
 		unsigned long sample_interval = ctx->attrs.sample_interval;
-		/* cache min_nr_regions; it can be changed in damon_call() */
-		unsigned long old_min_nr_regions = ctx->attrs.min_nr_regions;
 
 		if (kdamond_wait_activation(ctx))
 			break;
@@ -2885,10 +2883,6 @@ static int kdamond_fn(void *data)
 				ctx->ops.update(ctx);
 			sz_limit = damon_apply_min_nr_regions(ctx);
 		}
-
-		/* damon_call() callers could updated min_nr_regions */
-		if (ctx->attrs.min_nr_regions != old_min_nr_regions)
-			sz_limit = damon_apply_min_nr_regions(ctx);
 	}
 done:
 	damon_destroy_targets(ctx);
-- 
2.47.3

