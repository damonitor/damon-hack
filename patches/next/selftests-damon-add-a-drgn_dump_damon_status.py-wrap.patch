From: SeongJae Park <sj@kernel.org>
Date: Sat, 21 Jun 2025 13:33:04 -0700
Subject: [PATCH] selftests/damon: add a drgn_dump_damon_status.py wrapper

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 .../selftests/damon/dump_damon_status.sh      | 27 +++++++++++++++++++
 1 file changed, 27 insertions(+)
 create mode 100755 tools/testing/selftests/damon/dump_damon_status.sh

diff --git a/tools/testing/selftests/damon/dump_damon_status.sh b/tools/testing/selftests/damon/dump_damon_status.sh
new file mode 100755
index 000000000000..edfdf6821587
--- /dev/null
+++ b/tools/testing/selftests/damon/dump_damon_status.sh
@@ -0,0 +1,27 @@
+#!/bin/bash
+# SPDX-License-Identifier: GPL-2.0
+#
+# Dump status of kdamond for a given pid
+
+if [ $EUID -ne 0 ]
+then
+	echo "run as root"
+	exit 1
+fi
+
+if [ "$#" -ne 1 ]
+then
+	echo "Usage: $0 <pid>"
+	exit 1
+fi
+
+if ! which drgn
+then
+	echo "drgn not found"
+	exit 1
+fi
+
+bindir=$(dirname "$0")
+pid=$1
+
+"$bindir/drgn_dump_damon_status.py" "$pid"
-- 
2.39.5

