From: SeongJae Park <sj@kernel.org>
Date: Sat, 19 Jul 2025 10:56:07 -0700
Subject: [PATCH] selftests/damon/sysfs.py: test DAMOS filters

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 tools/testing/selftests/damon/sysfs.py | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/tools/testing/selftests/damon/sysfs.py b/tools/testing/selftests/damon/sysfs.py
index 9d9f05a4b38e..04511f8d4120 100755
--- a/tools/testing/selftests/damon/sysfs.py
+++ b/tools/testing/selftests/damon/sysfs.py
@@ -225,7 +225,15 @@ def main():
                 dests=_damon_sysfs.DamosDests(
                     dests=[_damon_sysfs.DamosDest(id=1, weight=30),
                            _damon_sysfs.DamosDest(id=0, weight=70)]),
-
+                core_filters=[
+                    _damon_sysfs.DamosFilter(type_='addr', matching=True,
+                                             allow=False, addr_start=42,
+                                             addr_end=4242),
+                    ],
+                ops_filters=[
+                    _damon_sysfs.DamosFilter(type_='anon', matching=True,
+                                             allow=True),
+                    ],
                 )])
     context.idx = 0
     context.kdamond = kdamonds.kdamonds[0]
-- 
2.39.5

