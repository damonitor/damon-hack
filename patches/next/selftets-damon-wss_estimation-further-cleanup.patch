From: SeongJae Park <sj@kernel.org>
Date: Sat, 10 Jan 2026 10:48:04 -0800
Subject: [PATCH] selftets/damon/wss_estimation: further cleanup

Signed-off-by: SeongJae Park <sj@kernel.org>
---
 .../sysfs_update_schemes_tried_regions_wss_estimation.py   | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/tools/testing/selftests/damon/sysfs_update_schemes_tried_regions_wss_estimation.py b/tools/testing/selftests/damon/sysfs_update_schemes_tried_regions_wss_estimation.py
index 6993f74e4572..593eef6a08d2 100755
--- a/tools/testing/selftests/damon/sysfs_update_schemes_tried_regions_wss_estimation.py
+++ b/tools/testing/selftests/damon/sysfs_update_schemes_tried_regions_wss_estimation.py
@@ -35,8 +35,11 @@ def is_test_passed(wss_collected, estimated_wss):
 
     print('the error rate is not acceptable (> %f)' %
             acceptable_error_rate)
-    print('samples are as below')
-    print('\n'.join(['%d' % wss for wss in wss_collected]))
+    for percentile in [0, 25, 50, 65, 75, 85, 95, 100]:
+        idx = min(int(nr_collections * percentile / 100), nr_collections - 1)
+        print('%3d-th percentile: %20d (error %f)' %
+              (percentile, wss_collected[idx],
+               abs(wss_collected[idx] - estimated_wss) / estimated_wss))
     return False
 
 def main():
-- 
2.47.3

