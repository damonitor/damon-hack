From hackermail Thu Jan  1 00:00:00 1970
From: SeongJae Park <sj@kernel.org>
To: Andrew Morton <akpm@linux-foundation.org>
Cc: SeongJae Park <sj@kernel.org>, "Liam R. Howlett" <Liam.Howlett@oracle.com>, Bill Wendling <morbo@google.com>, Brendan Higgins <brendan.higgins@linux.dev>, David Gow <davidgow@google.com>, David Hildenbrand <david@kernel.org>, Jonathan Corbet <corbet@lwn.net>, Justin Stitt <justinstitt@google.com>, Lorenzo Stoakes <lorenzo.stoakes@oracle.com>, Michal Hocko <mhocko@suse.com>, Miguel Ojeda <ojeda@kernel.org>, Mike Rapoport <rppt@kernel.org>, Nathan Chancellor <nathan@kernel.org>, Nick Desaulniers <nick.desaulniers+lkml@gmail.com>, Shuah Khan <shuah@kernel.org>, Suren Baghdasaryan <surenb@google.com>, Vlastimil Babka <vbabka@suse.cz>, damon@lists.linux.dev, kunit-dev@googlegroups.com, linux-doc@vger.kernel.org, linux-kernel@vger.kernel.org, linux-kselftest@vger.kernel.org, linux-mm@kvack.org, llvm@lists.linux.dev
Message-Id: <20251112154114.66053-1-sj@kernel.org>
Date: Wed, 12 Nov 2025 07:41:03 -0800
Subject: [PATCH 0/9] mm/damon: misc cleanups

Yet another batch of misc cleanups and refactoring for DAMON code,
tests, and documents.

First two patches (1and 2) rename DAMOS core filters related code for
readability.

Three following patches (3-5) refactor page table walk callback
functions in DAMON, as suggested by Hugh and David, and I promised.

Next two patches (6 and 7) refactor DAMON core layer kunit test and
sysfs interface selftest to be simple and deduplicated.

Final two patches (8 and 9) fix up sphinx and grammatical errors on
documents.

SeongJae Park (9):
  mm/damon: rename damos core filter helpers to have word core
  mm/damon: rename damos->filters to damos->core_filters
  mm/damon/vaddr: cleanup using pmd_trans_huge_lock()
  mm/damon/vaddr: use vm_normal_folio{,_pmd}() instead of
    damon_get_folio()
  mm/damon/vaddr: consistently use only pmd_entry for damos_migrate
  mm/damon/tests/core-kunit: remove DAMON_MIN_REGION redefinition
  selftests/damon/sysfs.py: merge DAMON status dumping into commitment
    assertion
  Docs/mm/damon/maintainer-profile: fix a typo on mm-untable link
  Docs/mm/damon/maintainer-profile: fix grammartical errors

 .clang-format                                 |   4 +-
 Documentation/mm/damon/maintainer-profile.rst |  10 +-
 include/linux/damon.h                         |  14 +-
 mm/damon/core.c                               |  25 ++-
 mm/damon/tests/core-kunit.h                   |  59 ++++----
 mm/damon/vaddr.c                              | 143 +++++++-----------
 .../selftests/damon/drgn_dump_damon_status.py |   8 +-
 tools/testing/selftests/damon/sysfs.py        |  45 ++----
 8 files changed, 121 insertions(+), 187 deletions(-)


base-commit: 4e9ec347bc14de636aec3014dee3b5d279ca33bf
-- 
2.47.3