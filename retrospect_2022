Subject: Retrospect DAMON development in 2022

Hello,


DAMON was first merged into and released with the last major Linux version of
2021, v5.15.  After the initial release, one more thankful year has passed.
I'd like to retrospect major events, share some development statistics, and say
thank you to the community.

TL; DR
======

2022 was an year of active and healthy DAMON development.

Seven new DAMON major features have delivered to users.  Some of those were
featured by articles and an academic paper.

DAMON community has expanded with its own mailing list and open bi-weekly chat
series.  32 people participated in DAMON development by making 212 commits be
merged in the mainline.  About 33% of the commits were made by Amazon-external
contributors.

Quite amount of DAMON changes have made.  About 8% and 0.2% of commits for
memory management subsystem and whole linux tree, and about 14% of lines of
changes for memory management subsystem were made for DAMON.

Key Events
==========

We started 2022 in January with Linux v5.16 release, which contained four major
DAMON features including
 - DAMON-based Operation Schemes,
 - Physical address space monitoring support,
 - DAMOS quota/priorities/watermarks, and
 - Data Access-aware Reclaim module (DAMON_RECLAIM).

In April, DAMON and DAMON_RECLAIM have merged[1] into Android.

In May, v5.18 has released with DAMON sysfs interface, which is aimed to be the
flexible and stable DAMON interface for long term usage.  We also made a
mailing list which is dedicated for DAMON development (damon@lists.linux.dev).

In June, we presented DAMON-related works in an academic conference, HPDC[2].

In July, v5.19 has released with DAMON online tuning feature.  This opened the
chance for more optimal and automated tuning of DAMON.  DAMON has also
featured[3] on Embedded Linux Conference'22 keynote.

In August, DAMON community started its bi-weekly virtual open chat series[4].
DAMON-based Proactive LRU-lists Sorting patchset, which reduces about 20% of
pressure stall time, has merged into the mainline and featured by LWN[5].

In September, DAMON's curent status and future plans have presented[6] in
KernelSummit.

In October, v6.0 has released with DAMON-based Proactive LRU lists sorting.  We
also had a first in-person DAMON community meetup[7] in LPC.

In November and December, DAMOS tried regions patchset, which makes query-like
efficient monitoring results collection available, and DAMOS filters patchset,
which allows cgroups support of DAMON-based memory managements, have developed.
The first one has merged in v6.2 merge window in December.  The second one is
expected to be merged in v6.3 merge widnow.

[1] https://android.googlesource.com/kernel/common/+/0496c13ded02bd72426d189b777bf303fe490f62
[2] https://www.amazon.science/publications/daos-data-access-aware-operating-system
[3] https://lwn.net/Articles/899742/
[4] https://lore.kernel.org/damon/20220810225102.124459-1-sj@kernel.org/
[5] https://lwn.net/Articles/905370/
[6] https://lpc.events/event/16/contributions/1224/
[7] https://lpc.events/event/16/contributions/1388/

Development Statistics
======================

Contributors
------------

According to my humble script, 32 people have contributed to DAMON development
in 2022-01-01.

$ ./lazybox/git_helpers/authors.py --files mm/damon/ \
        include/trace/events/damon.h include/linux/damon.h \
        Documentation/admin-guide/mm/damon/ Documentation/mm/damon/ \
        Documentation/vm/damon/ \
        Documentation/ABI/testing/sysfs-kernel-mm-damon \
        tools/testing/selftests/damon --since 2022-01-01 --skip_merge_commits \
        --max_nr_authors 33 ./linux
1. SeongJae Park <sj@kernel.org>: 143 commits
2. Xin Hao <xhao@linux.alibaba.com>: 17 commits
3. Kaixu Xia <kaixuxia@tencent.com>: 15 commits
4. Baolin Wang <baolin.wang@linux.alibaba.com>: 5 commits
5. Matthew Wilcox (Oracle) <willy@infradead.org>: 4 commits
6. Yang Yingliang <yangyingliang@huawei.com>: 2 commits
7. Rong Tao <rongtao@cestc.cn>: 1 commits
8. Christophe JAILLET <christophe.jaillet@wanadoo.fr>: 1 commits
9. Jason A. Donenfeld <Jason@zx2c4.com>: 1 commits
10. Dawei Li <set_pte_at@outlook.com>: 1 commits
11. Yajun Deng <yajun.deng@linux.dev>: 1 commits
12. Levi Yun <ppbuk5246@gmail.com>: 1 commits
13. Liam R. Howlett <Liam.Howlett@Oracle.com>: 1 commits
14. Kenneth Lee <klee33@uw.edu>: 1 commits
15. Greg Kroah-Hartman <gregkh@linuxfoundation.org>: 1 commits
16. Badari Pulavarty <badari.pulavarty@intel.com>: 1 commits
17. Kairui Song <kasong@tencent.com>: 1 commits
18. Jianglei Nie <niejianglei2021@163.com>: 1 commits
19. Gautam <gautammenghani201@gmail.com>: 1 commits
20. Mike Rapoport <rppt@linux.ibm.com>: 1 commits
21. Chengming Zhou <zhouchengming@bytedance.com>: 1 commits
22. Kefeng Wang <wangkefeng.wang@huawei.com>: 1 commits
23. Gautam Menghani <gautammenghani201@gmail.com>: 1 commits
24. Jiapeng Chong <jiapeng.chong@linux.alibaba.com>: 1 commits
25. Hailong Tu <tuhailong@gmail.com>: 1 commits
26. Yu Zhe <yuzhe@nfschina.com>: 1 commits
27. Xiaomeng Tong <xiam0nd.tong@gmail.com>: 1 commits
28. Jonghyeon Kim <tome01@ajou.ac.kr>: 1 commits
29. tangmeng <tangmeng@uniontech.com>: 1 commits
30. Miaohe Lin <linmiaohe@huawei.com>: 1 commits
31. Guoqing Jiang <guoqing.jiang@linux.dev>: 1 commits
32. Yihao Han <hanyihao@vivo.com>: 1 commits
# 32 authors, 212 commits in total

Huge appreciation to all contributors!  We made it!

Contributions from non-maintainer
---------------------------------

According to another humble script, about 33% of DAMON commits have made by
people other than the maintainer (sj@kernel.org).

$ ./damon_hack/stat_damon_portion_community_commits.sh ./linux
range               from_sj from_comm from_comm portion
v5.15..v5.16        50      13        20.63     %
v5.16..v5.17        16      10        38.46     %
v5.17..v5.18        26      10        27.78     %
v5.18..v5.19        23      7         23.33     %
v5.19..v6.0         15      14        48.28     %
v6.0..v6.1          33      36        52.17     %
v6.1..linus/master  28      6         17.65     %
v5.15..linus/master 191     95        33.22     %

Portion of DAMON Changes
========================

For simplicity, we count changes that made into only mm/damon/ and mm/ for
DAMON and MM subsystems.

By Number of Commits
--------------------

range               damon mm   damon/mm linux  damon/linux
v5.15..v5.16        45    307  14.66%   14190  0.32%
v5.16..v5.17        17    223  7.62%    13038  0.13%
v5.17..v5.18        29    448  6.47%    14954  0.19%
v5.18..v5.19        24    399  6.02%    15134  0.16%
v5.19..v6.0         15    283  5.30%    15402  0.10%
v6.0..v6.1          61    536  11.38%   13942  0.44%
v6.1..linus/master  20    250  8.00%    13687  0.15%
v5.15..linus/master 211   2446 8.63%    100347 0.21%

By Number of Lines
------------------

$ ./stat_damon_portion_lines.sh ../linux | ~/lazybox/scripts/report/fmt_tbl.py
range               damon mm    damon/mm
v5.15..v5.16        2157  8503  25.37%
v5.16..v5.17        324   9370  3.46%
v5.17..v5.18        3462  16288 21.25%
v5.18..v5.19        929   10185 9.12%
v5.19..v6.0         870   8665  10.04%
v6.0..v6.1          1752  25844 6.78%
v6.1..linus/master  3309  10544 31.38%
v5.15..linus/master 12803 89399 14.32%

